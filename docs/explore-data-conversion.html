<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.542">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MLS Salaries - Data conversion</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">MLS Salaries</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./01-cleaning.html"> 
<span class="menu-text">Cleaning</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./02-analysis.html"> 
<span class="menu-text">Analysis 2023</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./02-pts-salary.html"> 
<span class="menu-text">Points vs salaries</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./explore-api.html"> 
<span class="menu-text">API explore</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data conversion</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="about-this-notebook" class="level2">
<h2 class="anchored" data-anchor-id="about-this-notebook">About this notebook</h2>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Not really using this notebook</p>
</div>
</div>
<p>The goal here is to convert all the PDF-based salary tables to data. Some packages we’ll explore:</p>
<ul>
<li><a href="https://docs.ropensci.org/pdftools/">pdftools</a></li>
<li><a href="https://docs.ropensci.org/tabulizer/">tabulizer</a></li>
</ul>
<p>The data was downloaded from the <a href="https://mlsplayers.org/resources/salary-guide">MLS Players Association</a></p>
<p>I have not been able to install tabulizer. I’ve also found some of the historical data from Data is Plural, so I’m going to us other methods.</p>
</section>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pdftools)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># library(tabulizer)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="conversion-attempt" class="level2">
<h2 class="anchored" data-anchor-id="conversion-attempt">Conversion attempt</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pdf_text</span>(<span class="st">"data-raw/2007-08-31-Salary-Information-Alphabetical.pdf"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "                   2007 MLS Player Salaries: August 31, 2007: Alphabetical\n                                                          2007            2007 Guaranteed\n Club   Last Name           First Name       Pos       Base Salary         Compensation\n  DC    Addlery             Nicholas         F     $        36,000.00   $          36,000.00\n  LA    Albright            Chris            M-D   $       142,500.00   $         142,500.00\n  NY    Altidore            Josmer           F     $        85,000.00   $         108,333.00\n DAL    Alvarez             Arturo           M     $        32,819.00   $          46,019.00\n  NY    Angel               Juan Pablo       F     $     1,500,000.00   $       1,593,750.00\n  DC    Arguez              Bryan            M-D   $        45,000.00   $          76,200.00\n CHI    Armas               Chris            M     $       225,000.00   $         225,000.00\n  KC    Arnaud              Davy             M     $       100,000.00   $         101,875.00\n CHV    Arvizu              David            F     $        33,000.00   $          40,500.00\n HOU    Ashe                Corey            M     $        30,000.00   $          30,000.00\n TFC    Attakora-Gyan       Nana             D     $        12,900.00   $          12,900.00\n COL    Ballouchy           Mehdi            M     $        70,000.00   $          88,000.00\n CHI    Banner              Michael          M     $        12,900.00   $          12,900.00\n CHI    Barrett             Chad             F     $        41,212.50   $          48,712.50\n HOU    Barrett             Wade             D     $       141,750.00   $         141,750.00\n RSL    Beckerman           Kyle             M     $       120,000.00   $         122,500.00\n  LA    Beckham             David            M     $     5,500,000.08   $       6,500,000.04\n RSL    Besagno             Nikolas          M     $        75,000.00   $         111,500.00\n CHI    Blanco              Cuauhtemoc       F     $     2,492,316.00   $       2,666,778.00\n CHV    Bornstein           Jonathan         D     $        57,500.00   $          57,500.00\n  DC    Boswell             Robert           D     $        30,870.00   $          30,870.00\n DAL    Botero              Juan Sebastian   M     $        12,900.00   $          12,900.00\n TFC    Boyens              Andrew           D     $        30,000.00   $          47,500.00\n TFC    Braz                Adam             D     $        67,200.00   $          74,950.00\n TFC    Brennan             Jim              D     $       150,000.00   $         158,000.00\n CHV    Brooks              Desmond          D     $        12,900.00   $          12,900.00\n CHI    Brown               C.J.             D     $       106,391.00   $         106,391.00\n RSL    Brown               Kyle             F     $        17,700.00   $          17,700.00\n RSL    Brown               Chris            M-F   $        70,000.00   $          70,000.00\n  LA    Buddle              Edson            F     $       140,000.00   $         150,000.00\n  DC    Burch               Marc             D     $        30,000.00   $          30,000.00\n  KC    Burciaga            Jose             D     $       100,000.00   $         102,500.00\n CHV    Burling             Bobby            F-D   $        12,900.00   $          12,900.00\n CHV    Burpo               Preston          GK    $        52,491.60   $          52,491.60\n DAL    Burse               Ray              GK    $        17,700.00   $          17,700.00\n CHI    Busch               Jon              GK    $        58,008.00   $          58,008.00\n  NE    Byrne               Bryan            M     $        30,000.00   $          30,000.00\n  NY    Caccavale           Salvatore        M     $        12,900.00   $          12,900.00\n  NY    Camp                Blake            M     $        12,900.00   $          12,900.00\n COL    Cancela             Jose             M     $       156,000.00   $         156,000.00\n TFC    Canizalez           Maycoll          M     $        36,000.00   $          40,000.00\n  LA    Cannon              Joe              GK    $       192,000.00   $         192,000.00\n CHI    Carr                Calen            F     $        38,000.00   $          50,500.00\n  DC    Carreiro da Silva   Fred             M-F   $       190,008.00   $         222,008.00\n  DC    Carroll             Brian            M     $       115,000.00   $         118,750.00\n  DC    Carroll             Jeff             M-D   $        12,900.00   $          12,900.00\n COL    Casey               Conor            F     $       180,000.00   $         180,000.00\n  LA    Caso                Mike             M     $        12,900.00   $          12,900.00\n  NY    Cepero              Danny            GK    $        12,900.00   $          12,900.00\n HOU    Chabala             Mike             M     $        17,700.00   $          17,700.00\n HOU    Ching               Brian            F     $       220,000.00   $         220,000.00\n COL    Clark               Colin            F     $        17,700.00   $          17,700.00\n HOU    Clark               Ricardo          M     $       195,000.00   $         195,000.00\n\nSource: Major League Soccer Players Union\n"                                                                                                              
[2] "                   2007 MLS Player Salaries: August 31, 2007: Alphabetical\n                                                          2007           2007 Guaranteed\n Club   Last Name           First Name      Pos        Base Salary        Compensation\n HOU    Cochrane            Ryan            D      $       51,149.00   $         66,149.00\n COL    Colaluca            Nico            M      $       45,000.00   $         78,000.00\n  KC    Colombano           Eloy            F-M    $       42,000.00   $         42,000.00\n CHI    Conde               Wilman          D      $      144,000.00   $        151,500.00\n  KC    Conrad              Jimmy           D      $      194,750.00   $        206,000.00\n  NY    Conway              Jon             GK     $       65,000.00   $         65,750.00\n COL    Cooke               Terry           M      $      147,500.00   $        152,500.00\n DAL    Cooper              Kenny           F      $       80,000.00   $         83,000.00\n CHI    Correa              Thiago          M      $       44,100.00   $         44,100.00\n COL    Coundoul            Bouna           GK     $       30,000.00   $         30,000.00\n  NE    Cristman            Adam            F      $       17,700.00   $         17,700.00\n  LA    Cronin              Steve           GK     $       34,728.75   $         42,228.75\n  DC    Crowe               Shawn           GK     $       12,900.00   $         12,900.00\n COL    Cummings            Omar            F      $       30,000.00   $         30,000.00\n CHV    Cunliffe            John            F      $       30,000.00   $         45,000.00\n TFC    Cunningham          Jeffrey         F      $      220,000.00   $        232,500.00\n RSL    Curfman             Steven          M      $       12,900.00   $         12,900.00\n CHI    Curtin              Jeff            D      $       12,900.00   $         12,900.00\n CHI    Curtin              Jim             D      $      120,750.00   $        120,750.00\n RSL    Cutler              Kenny           M      $       30,000.00   $         30,000.00\n HOU    Dalglish            Paul            F      $       96,000.00   $        101,000.00\n DAL    Daniels             Andrew          D      $       12,900.00   $         12,900.00\n HOU    Davis               Brad            M      $      120,000.00   $        120,000.00\n DAL    De Oliveira         Denilson        M      $      872,736.00   $        879,936.00\n DAL    Dello-Russo         Michael         D      $       12,900.00   $         12,900.00\n HOU    DeRosario           Dwayne          M      $      324,999.96   $        324,999.96\n  DC    DeRoux              Stephen         M      $       12,900.00   $         12,900.00\n TFC    Dichio              Daniel          F      $      150,000.00   $        158,125.00\n COL    DiRaimondo          John            M      $       12,900.00   $         12,900.00\n TFC    Djekanovic          Srdjan          GK     $       17,700.00   $         17,700.00\n  NY    Doe                 Francis         F      $       48,000.00   $         48,000.00\n  LA    Donovan             Landon          F      $      900,000.00   $        900,000.00\n  NE    Dorman              Andy            M      $       30,870.00   $         30,870.00\n TFC    Dunivant            Todd            D      $       99,750.00   $         99,750.00\n  DC    Dyachenko           Rod             M      $       17,700.00   $         17,700.00\n HOU    Ebert               Eric            M      $       12,900.00   $         12,900.00\n TFC    Edu                 Maurice         M      $       50,000.00   $        132,500.00\n  KC    Elcock              Edson           M-F    $       17,700.00   $         17,700.00\n  DC    Emilio              Luciano         F      $      265,000.00   $        293,125.00\n COL    Erpen               Facundo         D      $      115,000.00   $        115,000.00\n RSL    Eskandarian         Alecko          F      $      155,000.00   $        175,500.00\n RSL    Espindola           Edgar           F      $       72,000.00   $         72,000.00\n CLB    Evans               Brad            F      $       17,700.00   $         17,700.00\n RSL    Findley             Robert          F      $       36,000.00   $         48,500.00\n  NE    Flood               Gary            D      $       12,900.00   $         12,900.00\n CHV    Flores              Jorge           M      $       12,900.00   $         13,275.00\n RSL    Forko               Willis          D      $       30,000.00   $         30,000.00\n  NE    Franchino           Joey            D      $       90,000.00   $         90,000.00\n CHI    Franks              Floyd           M      $       17,700.00   $         17,700.00\n  NY    Freeman             Hunter          D-M    $       50,600.00   $         60,600.00\n  LA    Friesz              Lance           GK     $       12,900.00   $         12,900.00\n TFC    Gala                Gabriel         M      $       12,900.00   $         12,900.00\n CHV    Galindo             Maykel          F      $       72,500.00   $         72,500.00\n\nSource: Major League Soccer Players Union\n"                                                                                                                                                                                                                          
[3] "                   2007 MLS Player Salaries: August 31, 2007: Alphabetical\n                                                          2007           2007 Guaranteed\n Club   Last Name           First Name      Pos        Base Salary        Compensation\n  KC    Garcia              Nick            D      $      131,250.00   $        136,250.00\n CLB    Garey               Jason           F      $       41,250.00   $         53,750.00\n COL    Gargan              Daniel          M      $       30,000.00   $         30,000.00\n CLB    Gaudette            Bill            GK     $       30,000.00   $         30,000.00\n CLB    Gaven               Eddie           M      $      165,000.00   $        188,000.00\n DAL    Gbandi              Chris           D      $      100,000.00   $        103,750.00\n DAL    Gbandi              Sandy           M      $       12,900.00   $         12,900.00\n  LA    Glinton             Gavin           F      $       50,000.00   $         50,000.00\n  KC    Godbolt             Aaron John      M      $       17,700.00   $         17,700.00\n  NY    Goldthwaite         Kevin           D      $       30,870.00   $         30,870.00\n COL    Gomez               Hercules        F      $       49,350.00   $         49,350.00\n  DC    Gomez               Cristian        M      $      216,000.00   $        218,500.00\n CLB    Gonzalez            Marcos          D      $      156,000.00   $        162,250.00\n  NE    Gonzalez            Miguel          M      $       12,900.00   $         12,900.00\n DAL    Goodson             Clarence        D      $       48,378.75   $         53,378.75\n  LA    Gordon              Alan            F      $       30,870.00   $         30,870.00\n CLB    Grabavoy            Ned             M      $       45,050.25   $         52,550.25\n  LA    Gray                Kelly           M-D    $       85,000.00   $         85,000.00\n  DC    Gros                Joshua          M      $       72,500.00   $         75,000.00\n CLB    Gruenebaum          Andy            GK     $       17,700.00   $         17,700.00\n  KC    Guadarrama          Willy           F      $       12,900.00   $         12,900.00\n CHI    Guerrero            Ivan            D-M    $      160,000.00   $        187,500.00\n CHI    Gutierrez           Diego           M      $      126,500.00   $        126,500.00\n CHV    Guzan               Brad            GK     $       52,237.50   $         67,237.50\n TFC    Guzman              David           M      $       12,900.00   $         12,900.00\n CHV    Hamilton            Anthony         F      $       17,700.00   $         17,700.00\n  LA    Harden              Ty              D      $       30,000.00   $         30,000.00\n  LA    Harmse              Kevin           M      $       40,800.00   $         40,800.00\n  KC    Harrington          Michael         D      $       36,000.00   $         53,500.00\n RSL    Harris              Atiba           F      $       30,000.00   $         30,000.00\n  KC    Hartman             Kevin           GK     $      150,000.00   $        150,000.00\n COL    Harvey              Jordan          D      $       17,700.00   $         17,700.00\n RSL    Hashimoto           Duke            F      $       17,700.00   $         17,700.00\n HOU    Hatzke              Nick            M      $       12,900.00   $         12,900.00\n HOU    Hayden              John-Michael    M      $       17,700.00   $         17,700.00\n  NE    Heaps               Jay             D      $      110,000.00   $        113,750.00\n CLB    Hejduk              Frankie         D      $      150,000.00   $        175,000.00\n  NE    Helton              Kyle            D      $       12,900.00   $         12,900.00\n TFC    Hemming             Tyler           M      $       17,700.00   $         17,700.00\n CLB    Hendrickson         Ezra            D-M    $       76,650.00   $         77,900.00\n CHV    Hernandez           Jason           D      $       45,000.00   $         45,625.00\n COL    Hernandez           Nicolas         F      $      130,000.00   $        132,400.00\n CLB    Herron              Andy            F      $      140,000.00   $        148,750.00\n CLB    Hesmer              William         GK     $       30,870.00   $         30,870.00\n DAL    Hislop              Shaka           GK     $      220,800.00   $        220,800.00\n HOU    Hoerner             Kenneth         M-F    $       12,900.00   $         12,900.00\n  KC    Hohlbein            Aaron           M-D    $       30,000.00   $         30,000.00\n HOU    Holden              Stuart          M      $       31,500.00   $         31,500.00\n COL    Hughes              Justin          GK     $       12,900.00   $         12,900.00\n CLB    Hunter              Ben             F      $       12,900.00   $         12,900.00\n HOU    Ianni               Patrick         D      $       70,000.00   $        103,000.00\n DAL    Ibrahim             Abdus           F      $       50,000.00   $         83,000.00\n  NE    Igwe                Amaechi         F      $       45,000.00   $         78,000.00\n\nSource: Major League Soccer Players Union\n"                                                                                                                                                                                                                          
[4] "                   2007 MLS Player Salaries: August 31, 2007: Alphabetical\n                                                          2007           2007 Guaranteed\n Club   Last Name           First Name      Pos        Base Salary        Compensation\n COL    Ihemelu             Ugo             D      $       55,000.00   $         55,000.00\n  NY    Ikangu              Elie            M      $       17,700.00   $         17,700.00\n HOU    James               Jordan          GK     $       12,900.00   $         12,900.00\n HOU    Jaqua               Nate            F      $      112,500.00   $        119,525.00\n  LA    Jazic               Ante            D-M    $      108,000.00   $        114,250.00\n  KC    Jewsbury            Jack            M-F    $       50,000.00   $         50,000.00\n RSL    Jimenez             Christian       M      $       33,075.00   $         43,075.00\n  KC    John                Will            M-F    $       33,075.00   $         40,575.00\n  NE    John                Avery           D      $       63,000.00   $         63,750.00\n  KC    Johnson             Eddie           F      $      750,000.00   $        875,000.00\n DAL    Jones               Scott           M      $       12,900.00   $         12,900.00\n  LA    Jones               Cobi            M      $       95,000.00   $         95,000.00\n  NE    Joseph              Shalrie         D      $      170,625.00   $        180,625.00\n CLB    Junge               Ryan            D      $       12,900.00   $         12,900.00\n CLB    Kamara              Kei             F      $       33,000.00   $         43,000.00\n  NY    Karcz               Chris           M      $       12,900.00   $         12,900.00\n COL    Keel                Stephen         D      $       17,700.00   $         17,700.00\n COL    Kimura              Kosuke          M      $       12,900.00   $         12,900.00\n RSL    Kipre               Jean-Martial    D      $       30,000.00   $         30,000.00\n RSL    Kirby               Dustin          D      $       12,900.00   $         12,900.00\n  LA    Kirk                Quavas          F      $       75,000.00   $        111,500.00\n COL    Kirovski            Jovan           F      $      200,000.00   $        200,000.00\n  LA    Klein               Chris           M      $      180,000.00   $        187,250.00\n CHV    Kljestan            Sacha           M      $       70,000.00   $        103,000.00\n  NE    Knighton            Brad            GK     $       12,900.00   $         12,900.00\n  KC    Konopka             Chris           GK     $       12,900.00   $         12,900.00\n RSL    Kotschau            Ritchie         D      $       69,300.00   $         70,175.00\n  NY    Kovalenko           Dema            M      $      190,000.00   $        197,375.00\n  DC    Kpene               Guy             F      $       30,000.00   $         30,000.00\n  KC    Kraus               Michael         M-F    $       12,900.00   $         12,900.00\n  KC    Kronberg            Eric            GK     $       30,000.00   $         30,000.00\n COL    LaBrocca            Nick            M      $       12,900.00   $         12,900.00\n RSL    Lancos              Chris           D      $       17,700.00   $         17,700.00\n  NE    Larentowicz         Jeff            M      $       30,000.00   $         30,000.00\n  NY    Laventure           Jerrod          F      $       12,900.00   $         12,900.00\n  NY    Leitch              Chris           D      $       43,200.00   $         43,200.00\n  NE    Leonard             Marshall        M      $       47,500.00   $         47,500.00\n CHV    Llamosa             Carlos          D      $       84,000.00   $         84,000.00\n  NE    Loftus              Chris           F      $       12,900.00   $         12,900.00\n TFC    Lombardo            Andrea          F      $       30,000.00   $         30,000.00\n CHV    Lopez               Rodrigo         M      $       17,700.00   $         17,700.00\n  KC    Lowery              Amir            M      $       12,900.00   $         12,900.00\n TFC    Lumley              Stephen         D      $       12,900.00   $         12,900.00\n  NY    Magee               Mike            F      $       56,206.25   $         57,206.25\n RSL    Mantilla            Matias          D      $       48,000.00   $         48,000.00\n CHI    Mapp                Justin          M      $      130,000.00   $        136,000.00\n  KC    Marinelli           Carlos          M      $      165,000.00   $        165,000.00\n CHI    Marques             Bruno           M      $       12,900.00   $         12,900.00\n CHV    Marsch              Jesse           M      $      100,000.00   $        109,375.00\n CLB    Marshall            Chad            D      $      100,000.00   $        123,000.00\n TFC    Marshall            Tyrone          D      $      142,000.00   $        149,500.00\n  LA    Martino             Kyle            M      $       52,500.00   $         55,297.27\n COL    Mastroeni           Pablo           M-D    $      280,000.00   $        298,000.00\n\nSource: Major League Soccer Players Union\n"                                                                                                                                                                                                                          
[5] "                   2007 MLS Player Salaries: August 31, 2007: Alphabetical\n                                                          2007           2007 Guaranteed\n Club   Last Name           First Name      Pos        Base Salary        Compensation\n  NY    Mathis              Clint           M-F    $      270,000.00   $        410,000.00\n DAL    McCarty             Dax             M      $       33,000.00   $         45,500.00\n  KC    McMahen             Ryan            M      $       30,000.00   $         30,000.00\n  DC    McTavish            Devon           M      $       30,000.00   $         30,000.00\n  DC    Mediate             Stanton         M-F    $       30,000.00   $         30,000.00\n TFC    Melo                Joey            M      $       12,900.00   $         12,900.00\n  NY    Mendes              Carlos          D      $       62,606.25   $         62,606.25\n CHV    Mendoza             Francisco       M      $       90,000.00   $         93,750.00\n CHV    Merlin              Laurent         M      $       60,000.00   $         60,000.00\n CLB    Miglioranzi         Stefani         M      $       70,008.00   $         86,258.00\n DAL    Mina                Roberto         F      $       80,000.00   $         80,000.00\n HOU    Moloi               Mpho            M      $       17,700.00   $         17,700.00\n Pool   Monsalve            David           GK     $       30,000.00   $         30,000.00\n CHI    Monteiro            Jerson          F      $       17,700.00   $         17,700.00\n DAL    Moor                Drew            D      $       53,350.00   $         65,850.00\n  DC    Moose               Justin          M      $       17,700.00   $         17,700.00\n RSL    Morales             Javier          M      $      120,000.00   $        120,000.00\n  DC    Moreno              Jaime           F      $      250,000.00   $        275,000.00\n CLB    Moreno              Alejandro       F      $      120,000.00   $        125,000.00\n  KC    Morsink             Kurt            M      $       30,000.00   $         30,000.00\n CLB    Moss                Brandon         M      $       17,700.00   $         17,700.00\n  KC    Movsisyan           Yura            F      $       35,750.00   $         45,750.00\n HOU    Mullan              Brian           M      $      125,000.00   $        125,000.00\n HOU    Mulrooney           Richard         M      $      220,000.00   $        233,200.00\n  DC    Mupier              Mira            F      $       12,900.00   $         12,900.00\n CHV    Myers               Justin          GK     $       12,900.00   $         12,900.00\n CHV    Nagamura            Paulo           M      $       89,250.00   $         89,250.00\n  DC    Namoff              Bryan           D      $       85,000.00   $         88,750.00\n HOU    Ngwenya             Joseph          F      $       51,148.13   $         62,023.13\n CHI    Noble               Nick            GK     $       12,900.00   $         12,900.00\n  DC    Nolly               Jay             GK     $       36,000.00   $         36,000.00\n  NE    Noonan              Pat             F      $      225,000.00   $        227,500.00\n  DC    North               Brad            F      $       12,900.00   $         12,900.00\n TFC    Nunez               Cristian        M      $       17,700.00   $         17,700.00\n CHV    Nunez               Ramon           M      $      100,000.00   $        118,000.00\n TFC    O'Brien             Ronnie          M      $      240,000.00   $        258,750.00\n DAL    Oduro               Dominic         F      $       30,000.00   $         30,000.00\n  NE    Oka                 Arsene          M      $       12,900.00   $         12,900.00\n  DC    Olsen               Ben             M      $      155,000.00   $        177,500.00\n HOU    Onstad              Pat             GK     $      168,000.00   $        168,000.00\n CLB    O'Rourke            Danny           M      $       46,331.25   $         56,331.25\n COL    Osorno              Daniel          F      $      138,000.00   $        143,000.00\n CLB    Oughton             Duncan          D      $       72,000.00   $         72,000.00\n Pool   Pardo               Boris           GK     $       17,700.00   $         17,700.00\n  NY    Parke               Jeff            D      $       47,250.00   $         48,500.00\n  NE    Parkhurst           Michael         D      $       80,575.00   $         93,075.00\n  NY    Patterson           Randi           F      $       12,900.00   $         12,900.00\n CHI    Pause               Logan           M      $       69,300.00   $         69,300.00\n  LA    Pavon               Carlos          F      $      132,000.00   $        141,500.00\n DAL    Pereira             Ricardo         F      $       30,000.00   $         30,000.00\n CHV    Perez               Orlando         D      $       70,000.00   $         70,000.00\n  DC    Perkins             Troy            GK     $       85,000.00   $         87,500.00\n CLB    Peterson            Andrew          M      $       12,900.00   $         12,900.00\n\nSource: Major League Soccer Players Union\n"                                                                                                                                                                                                                          
[6] "                   2007 MLS Player Salaries: August 31, 2007: Alphabetical\n                                                            2007            2007 Guaranteed\n Club   Last Name           First Name         Pos       Base Salary         Compensation\n COL    Peterson            Jacob              F     $        70,000.00   $          88,750.00\n COL    Petke               Mike               D     $       126,000.00   $         126,000.00\n CHI    Pickens             Matt               GK    $        32,340.00   $          32,340.00\n CLB    Pierce              Rusty              D     $        63,000.00   $          64,300.00\n DAL    Pitchkolan          Aaron              M     $        17,700.00   $          17,700.00\n CHI    Plotkin             Brian              M     $        30,000.00   $          30,000.00\n RSL    Pope                Eddie              D     $       265,000.00   $         265,000.00\n  KC    Pore                Ryan               F     $        44,825.00   $          57,325.00\n TFC    Pozniak             Chris              D     $        90,000.00   $          95,000.00\n COL    Prideaux            Brandon            D     $        76,403.00   $          76,403.00\n  NY    Quaranta            Santino            F     $       100,000.00   $         105,312.50\n  NE    Ralston             Steve              M     $       150,000.00   $         150,000.00\n  LA    Randolph            Michael            D     $        17,700.00   $          17,700.00\n  KC    Raybould            Ryan               D-M   $        30,000.00   $          30,000.00\n CHV    Razov               Ante               F     $       245,000.00   $         248,750.00\n TFC    Reda                Marco              D     $       100,000.00   $         105,000.00\n  NE    Reis                Matt               GK    $       150,000.00   $         150,000.00\n  NY    Reyna               Claudio            M     $     1,000,008.00   $       1,250,008.00\n RSL    Reynish             Kyle               GK    $        17,700.00   $          17,700.00\n Pool   Reynolds            Samuel             GK    $        17,700.00   $          17,700.00\n DAL    Rhine               Bobby              D     $        60,000.00   $          62,500.00\n DAL    Ricchetti           Pablo              M     $       120,000.00   $         126,625.00\n  NY    Richards            Dane               F-M   $        30,000.00   $          30,000.00\n  NE    Riley               James              D-F   $        30,870.00   $          30,870.00\n RSL    Rimando             Nick               GK    $        64,125.00   $          68,468.75\n  LA    Roberts             Troy               D     $        30,000.00   $          30,000.00\n CHI    Robinson            Dasan              D     $        42,500.00   $          42,500.00\n HOU    Robinson            Eddie              D     $       110,000.00   $         110,000.00\n TFC    Robinson            Carl               M     $       300,000.00   $         315,000.00\n CHV    Robles              Eder               D     $        12,900.00   $          12,900.00\n CLB    Rogers              Robbie             F-M   $        50,000.00   $          50,000.00\n CHI    Rolfe               Chris              F     $        70,000.00   $          74,700.00\n DAL    Ruiz                Carlos             F     $       325,000.00   $         435,000.00\n CHI    Russolillo          Jordan             D     $        12,900.00   $          12,900.00\n DAL    Sala                Dario              GK    $       110,000.00   $         119,875.00\n TFC    Samuel              Collin             F     $        90,000.00   $         115,000.00\n COL    Sanneh              Tony               D     $        60,000.00   $          60,000.00\n DAL    Saragosa            Marcelo            M     $        67,008.00   $          71,883.00\n CLB    Schelotto           Guillermo Barros   F     $       150,000.00   $         150,000.00\n Pool   Schoeni             Kenny              GK    $        17,700.00   $          17,700.00\n  NY    Schopp              Markus             M     $       175,000.00   $         175,000.00\n  KC    Sealy               Scott              F     $        33,075.00   $          33,075.00\n CHI    Segares             Gonzalo            D     $        48,300.00   $          50,800.00\n RSL    Seitz               Chris              GK    $        55,000.00   $          90,500.00\n DAL    Serioux             Adrian             D     $       108,000.00   $         120,500.00\n  LA    Sesay               Israel             F     $        45,000.00   $          57,083.33\n  DC    Simms               Clyde              M     $        52,500.00   $          53,750.00\n  NE    Sims                Willie             F     $        35,500.00   $          43,000.00\n  NE    Smith               Khano              F     $        44,100.00   $          44,100.00\n  NE    Solle               Ryan               M     $        17,700.00   $          17,700.00\n CHV    Solorzano           Erasmo             M     $        12,900.00   $          12,900.00\n CHI    Soumare             Bakary             D     $        45,000.00   $          78,000.00\n TFC    Stamatopolus        Kenny              GK    $        30,000.00   $          37,500.00\n\nSource: Major League Soccer Players Union\n"
[7] "                   2007 MLS Player Salaries: August 31, 2007: Alphabetical\n                                                          2007           2007 Guaranteed\n Club   Last Name           First Name      Pos        Base Salary        Compensation\n  NY    Stammler            Seth            D      $       30,870.00   $         30,870.00\n RSL    Stewart             Jack            D      $       41,081.25   $         48,581.25\n RSL    Sturgis             Nathan          M      $       70,000.00   $        103,000.00\n CHV    Suarez              Claudio         D      $      146,991.60   $        146,991.60\n TFC    Sutton              Greg            GK     $      125,000.00   $        132,562.50\n CLB    Szetela             Danny           M      $       43,135.31   $         48,760.31\n RSL    Talley              Carey           D      $      118,248.00   $        118,248.00\n CHI    Telesford           Osei            D      $       36,000.00   $         36,625.00\n CLB    Thomas              Jacob           M      $       84,000.00   $         87,750.00\n CHV    Thomas              Shavar          D      $       70,000.00   $         73,750.00\n DAL    Thompson            Abe             F      $       30,000.00   $         30,000.00\n  NE    Thompson            Wells           M      $       30,000.00   $         30,000.00\n COL    Thornton            Zach            GK     $       57,600.00   $         57,600.00\n DAL    Toja                Juan Carlos     M      $      100,008.00   $        100,008.00\n  LA    Tudela              Josh            M      $       17,700.00   $         17,700.00\n  NE    Twellman            Taylor          F      $      325,008.00   $        350,008.00\n  NY    Ubiparipovic        Sinisa          F-M    $       17,700.00   $         17,700.00\n HOU    Ustruck             Erik            M      $       12,900.00   $         12,900.00\n  LA    Vagenas             Peter           M      $      131,250.00   $        131,875.00\n  NY    Van Den Bergh       Dave            M      $      180,000.00   $        214,583.33\n  DC    Vanney              Greg            D      $      216,667.00   $        236,667.00\n CHV    Vaughn              Lawson          D      $       30,000.00   $         30,000.00\n  LA    Veris               Kyle            D      $       17,700.00   $         17,700.00\n  KC    Victorine           Sasha           M      $      137,500.00   $        140,000.00\n  NY    Vide                Joe             M      $       17,700.00   $         17,700.00\n CLB    Virtuoso            Ricardo         M      $       60,000.00   $        102,000.00\n DAL    Wagenfuhr           David           D      $       30,870.00   $         30,870.00\n DAL    Wagner              Blake           D      $       33,000.00   $         45,500.00\n  KC    Wahl                Tyson           D      $       30,000.00   $         30,000.00\n HOU    Waibel              Craig           D      $       85,000.00   $         85,000.00\n  DC    Walker              Jamil           M-F    $       30,870.00   $         30,870.00\n DAL    Wallace             Anthony         M      $       45,000.00   $         78,000.00\n CHI    Wanchope            Paulo           F      $      240,000.00   $        267,500.00\n CLB    Ward                Tim             D      $       38,456.25   $         48,456.25\n  NE    Warren              Doug            GK     $       50,000.00   $         50,000.00\n COL    Wasson              Daniel          D      $       17,700.00   $         17,700.00\n  NY    Waterreus           Ronald          GK     $      200,000.00   $        200,000.00\n  KC    Watson              Lance           M      $       17,700.00   $         17,700.00\n RSL    Watson              Jamie           F      $       45,100.00   $         50,100.00\n HOU    Wells               Zachary         GK     $       50,400.00   $         50,400.00\n TFC    Welsh               Andrew          M      $      195,000.00   $        204,750.00\n RSL    Williams            Andy            F      $       70,008.00   $         70,008.00\n COL    Wilmes              Clifton         D      $       12,900.00   $         12,900.00\n RSL    Wingert             Chris           D      $       54,993.75   $         62,493.75\n  NY    Wolyniec            John            F      $       65,625.00   $         65,625.00\n HOU    Wondolowski         Chris           M      $       30,000.00   $         30,000.00\n CHI    Woolard             Daniel          D      $       12,900.00   $         12,900.00\n TFC    Wynne               Marvell         D      $       47,500.00   $        150,000.00\n  LA    Xavier              Abel            D      $      156,000.00   $        156,000.00\n DAL    Yi                  Alex            D      $       30,870.00   $         30,870.00\n  KC    Zavagnin            Kerry           M      $      154,000.00   $        154,000.00\n CLB    Zayner              Jed             D      $       33,000.00   $         40,500.00\n CHV    Zotinca             Alex            D      $       67,500.00   $         68,750.00\n\nSource: Major League Soccer Players Union\n"                                                                                                                                                                                                                          </code></pre>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>